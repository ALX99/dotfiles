#!/bin/sh
alias q=exit
alias c=clear
alias r=ranger
alias e=$EDITOR
alias h='cd ~'
alias p=paccy
alias l.='ls -d .?*'
alias lt='ls  ~/.local/share/Trash/files'
alias sp='sudo pacman'
alias dir='ls --format=long'
alias diff='code --diff' # Easier to read than normal diff
alias duck='sudo du -hs * | sort -rh | head -10' # Find biggest directories
alias ducks='sudo find -type f -exec du -Sh {} + | sort -rh | head -10' # Find biggest files
alias hgrep='history | grep '

# dwm
alias reset='cd ~/dwm/ && git checkout master && make clean && rm -f config.h && git reset --hard origin/master'
alias restart="sudo rm -f /usr/local/bin/dwm && cd ~/dwm/ && git checkout master && git merge config && make clean && sudo make install && pkill dwm"

# Better flags
alias ls='ls --group-directories-first --color=auto'
alias grep='grep --color=auto'
alias sudo='sudo -A'
alias cp='cp -i'
alias mv='mv -i'
alias rm='rm -iv'
alias mkdir='mkdir -p'

se() { du -a ~/dotfiles/* | awk '{print $2}' | fzf --layout=reverse| xargs -r $EDITOR ;}
# Move to trash
t(){ mv --backup=t "$@" ~/.local/share/Trash/files ;}
# Clear trash
ct() {
    ls -1 ~/.local/share/Trash/files/
    read -s -n 1 -p "Do you want to delete files and folders? (y/N): " confirm
    echo
    if [[ "$confirm" =~ ^([Yy]) ]]; then
        rm -rf ~/.local/share/Trash/files/*
        echo "Files deleted!"
    else
        echo "Okay, aborting!"
    fi 
}
# Show a list of processes and select one to kill
fkill() {
    local pid
    if [ "$UID" != "0" ]; then
        pid=$(ps -f -u $UID | sed 1d | fzf -m | awk '{print $2}')
    else
        pid=$(ps -ef | sed 1d | fzf -m | awk '{print $2}')
    fi

    if [ "x$pid" != "x" ]
    then
        echo $pid | xargs kill -${1:-9}
    fi
}
go() {
  local dir
  dir=$(find ${1:-.} -path '*/\.*' -prune \
                  -o -type d -print 2> /dev/null | fzf +m) &&
  cd "$dir"
}
cheat(){
    curl cheat.sh/$1
}
